on:
  milestone:
    types: [closed]
  workflow_dispatch:
    inputs:
      milestoneId:
        description: 'Milestone ID'     
        required: true
        default: '1'
        
name: Milestone Closure - generate notes
jobs:
  release-notes:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - name: Release notes generator
        uses: Decathlon/release-notes-generator-action@v3.1.6

        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          OUTPUT_FOLDER: temp_release_notes
          FILENAME: "my_custom_file.txt"
          milestoneId: '5'
          

      - name: Setup Git
        run: |
          git config user.name 'anna-follestad-4ss'
          git config user.email 'anna.fehn.follestad@4subsea.com'
        
      - name: Push latest version
        run: |
          git add temp_release_notes/my_custom_file.txt
          git commit -m "added some release notes file"
          git push origin main
